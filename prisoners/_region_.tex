\message{ !name(prisoners.tex)}\documentclass{article} \usepackage{amsmath} \usepackage{amssymb}
%
\begin{document}

\message{ !name(prisoners.tex) !offset(-3) }

%
\title{prisoners in a circle}
%
\author{Avi Taicher}
%
\maketitle
%
The prisoners are now exactly as many as there are colors (N, instead of 100) and standing in a circle (so that everyone can see everyone else's hat color, but not his own). This time, the prisoners don't call out their color, but write it down secretly on a piece of paper (so no one knows the other's answers). The prisoners win if at least one of them guesses his own hat color right. Come up with a strategy that the prisoners can agree upon beforehand and that will guarantee them to win in any case.\\\\
%
\textit{Solution}: Number each prisoner $P_i$ and each color $C_i$
from $0$ to $N-1$. Let,
%
\begin{equation*}
  T = \sum_{j=0}^{N-1}C_j,
\end{equation*}
%
and suppose without loss of generality that $T\%N = k$.  The strategy
for at least one prisoner to guess his color is as follows: each
prisoner $P_i$ sees the sum,
%
\begin{equation*}
  T_i = \sum_{j=0,j \neq i}^{N-1}C_j,
\end{equation*}
%
and guesses his color $\hat{C_i}$ such that $(T_i+\hat{C_i})\%N = i$.
For this strategy, prisoner $P_k$ will guess his color $\hat{C_k}$
such that $T_k + \hat{C_k} = T$ and hence $\hat{C_k} = C_k$.  To see
this assume that $T_k + \hat{C_k} \neq T$.  This implies that $T_k +
\hat{C_k} = T + mN$, $m\in \mathbb{N}$, $m \neq 0$.  But this is a
contradiction since
%
\begin{equation*}
  T-(N-1) \leq T_k + \hat{C_k} \leq T+(N-1)
\end{equation*}
%
\message{ !name(prisoners.tex) !offset(-5) }

\end{document}
